\chapter{Documento de diseño}

%----- Game Concept --------------------------------
%---------------------------------------------------
\section{Game concept}

Juego en 3D de tipo \emph{hack 'n' slash} y aventura en tercera persona, donde se insipra en el universo de los cuentos para niños llevándolo a una versión \emph{gore} y bastante violento.

%----- Descripción Ampliada ------------------------
%---------------------------------------------------
\section{Descripción ampliada}

La historia transcurre en un mundo tidimensional con una atmósfera oscura y de terror, con cierta visión \emph{cartoon}, donde Caperucita lo recorre bajo la luz de la luna buscando la venganza de la muerte de su abuela. Para ello deberá encontrar al malvado Lobo pero antes tendrá que combatir con decenas de monstruos que han sico convodados por el Lobo, cortándolos en diferentes trozos con su hoz destructora y sus cuchillos cortantes.

En esta aventura, caperucita deberá recorrer el bosque y la casa donde habita su abuela matando a todos los enemigos que se encuentren a su paso. Como su abuela estará muerta por el lobo, Caperucita irá a la cueva del lobo en busca de venganza. ¿Logrará Caperucita matar al lobo feroz que gobierna el bosque y que mató a su abuela?

\subsection{Género}

Este juego es de tipo \emph{hack 'n' slash} en combinación con aventura de acción y el subgénero \emph{beat them all}. Se caracteriza por combinar elementos de aventura con elementos de suspenso y acción, dentro de una atmósfera de terror psicológico dondo lo que prima es la supervivencia.

Está basado en varios juegos ya existentes como \emph{American McGee's Alice Madness Returns} \cite{Alice}, \emph{Fairytale Fights} \cite{Fairytale}, \emph{God of War} \cite{GoW} y \emph{Darksiders} \cite{Darksiders}, entre otros.

\subsection{Propósito y público objetivo}

El principal objetivo de Caperucita Loca es ofrecer a los jugadores un entorno vistoso, tridimensional y con mucha acción al estilo gore. Es un juego destinado básicamente a gente adulta mayores de 18 años y enfocado a la audiencia masculina. La gente que prefiere estos tipos de juegos son gente joven comprendida entre los 15 y 30 años debido a que está situado en un ambiente de aventura, misterio y suspense que permite liberar adrenalina  mientras juegan. 

Los jugadores jugarán a este juego por esa motivación de vivir experiencias o escenas de charcos de sangre algo prohibitivas durante la etapa adolescente y poder experimentar ese sentimiento de terror y de masacre de cuerpos.

Dentro del mercado, podríamos situar este juego cercano a otros existentes como \emph{Alice Madness Returns} en cuanto a las dimensiones de los escenarios, de la protagonista y los enemigos, y del \emph{Fairytale Fights} aunque con mayor grado de acción gore y sin tanta fantasía. También se pude parecer en algunas mecánicas a \emph{Darksiders} en cuanto a la captura de almas o bien a los tipos de secuencia de acciones (combos) o también a la cantidad de enemigos que acechan al protagonista en un mismo momento. A diferencia de estos juegos, Caperucita no se parece a uno de ellos en concreto sino que tiende a mezclar todo lo anteriormente comentado aumentando la acción con la aparición de un mayor número de enemigos en cada batalla en la que se vea envuelta intentando sobrevivir con un conjunto de ataques y combos.

Comparado a otros juegos, Caperucita es un concepto original porqué todavía no existen juegos que mezclan el tipo \emph{hack 'n' slash} y el cuento de la Caperucita Roja. Es un concepto de juego que tiene su propia identidad. Por otra parte, el tipo de juego \emph{hack 'n' slash}  no es un estilo muy común en comparación con la gran cantidad de juegos de tipo \emph{FPS (First Person Shooter)}, \emph{MMORPG (Massively Multiplayer Online Role-Playing Game)} o deporte. 
\subsection{Plataforma}

El juego se ha desarrollado para PC con sistema operativo Windows \cite{Windows}. El juego se podría transportar a otras plataformas como \emph{PlayStation 3} \cite{PS3} o \emph{Xbox 360} \cite{360}.

%----- Mecánicas -----------------------------------
%---------------------------------------------------
\section{Mecánicas}

\subsection{Punto de vista}

El juego será en tercera persona con la cámara en perspectiva detra´s del personaje para tener una buena visibilidad del escenario, de los enemigos y de los ítems existentes.

Podría existir la acción de rotación de cámara mediante teclas o el ratón, pero con la principal característica de pivotar sobre el personaje principal.

\subsection{Desarrollo general}

El juego es lineal combinando zonas de combate y plataformas. Estará ambientado en un bosque de noche al aire libre pero limitado, la cabaña de la abuela y la cueva que hace de madriguera del Lobo, el enemigo principal.

El jugador pasará por diferentes zonas (2 o 3) de combate y plataformas, separadas adecuadamente.

\subsection{Escenario}

Idealmente se harán tres escenarios contiguos:

\begin{enumerate}

\item El bosque. La historia empieza en el bosque, permitiendo al jugador aprender cual es las mecánicas básicas, como debe manipular al personaje y familiarizarse con el control. Así pues, se mostraran los controles para que el jugador practique y aprenda los posibles movimientos y combinaciones de ataque y defensa. Una vez pasada esta primera parte del bosque, el jugador estará preparado para los combates posteriores.

En un segunda parte en el bosque, el jugador empezará a encontrar enemigos, básicamente animales del bosque. 

El bosque estará formado por árboles sin hojas, debido a que es otoño o invierno. Las ramas de los árboles estarán caídas dando la sensación de ser árboles muertos y rotos. Tambíen contendrá arbustos, rocas y elementos característicos de los bosques. Habrá sensación de viento.

Existiran zonas pequeñas donde la habilidad del salto sea necesaria. Estas zonas no contendrán enemigos.

\item La cabaña. La cabaña estará situada en medio dle bosque y estará visiblemente iluminada para que el jugador llegue y vea lo sucedido. Se podrá acceder dentro de la cabaña. El interior estará formado por un gran comedor con chimenea y un par de habitaciones, la de la abuela y otra de invitados. En caso de existir más habitaciones, estas no serán accesibles por el jugador.

La cabaña, externamente, estará formada por piedra y madera. Puede haber un jardín con algunas flores en tiestos.

En el interior habrá una cinemática con parte de historia, donde se explicará como el Lobo se come a la abuela.

\item La cueva. Estará formada por un pasillo lardo y poco ancho, desenvocando a una sala más grande donde reside el enemigo final, el Lobo. La cueva será de roca y estará iluminada mediante velas.

Para acceder a esta parte del escenario, se hará a través de una trampilla que hay dentro de la cabaña, o bien por el bosque siguiendo un camino lineal.

\end{enumerate}

\subsection{Sistema de juego}

\subsubsection{Objetivos}

El objetivo principal del juego es derrotar el Lobo que habita el bosque. El jugador deberá matar a todos los enemigos que se encuentre en su camino y que han sido enviados por el lobo para, finalmente, enfrentarse a él en un combate final.

Para finalizar cada nivel hay que llegar al final de este, derrotando a cualquier enemigo que se interponga en el camino del jugador.

La primera parte del bosque será un tutorial de las mecánicas del juego. La segunda parte, será para aprender a combatir y a defenderse. A medida que el jugador avanze por el nivel, la cantidad de enemigos irá en aumento hasta la cabaña.

En la parte de la cabaña la acción será más agresiva matando a más enemigos. Una vez matados todos, se mostrará una cinemática o mediante mensajes, un poco de historia.

En el momento de luchar, el personaje puede realizar varias secuencias de ataques diferentes por cada arma que lleve equipada, lo que llamamos \emph{combos}.

Finalmente, Caperucita irá a la cueva para matar al Lobo, donde estará lleno de enemigos más fuertes. Al final del nivel, habrá la batalla contra el enemigo más feroz del juego, el Lobo.

\subsubsection{Reglas}

\begin{itemize}

\item El desarrollo de una partida es bastante sencillo y lineal. El personaje avanza y salta en el entorno y así puede moverse en todas las direcciones con libertad.

\item Puede explorar el entorno par encontrar elementos beneficiosos para el jugador.

\item Para finalizar cada nivel, se tiene que llegar al final de este derrotando a cualquier enemigo que se interponga en el camino.

\item Dentro del escenario del bosque hay unos límites de escenario para que el jugador no salga.

\item El personaje no puede salir de una plataforma caminando.

\item La cueva es un entorno cerrado y, por lo tanto, ya limitado marcando un único camino a seguir.

\item Caperucita tiene una barra de vida y la partida se termina cuando se pierde toda la vida.

\item Si Caperucita pierde toda la vida, el juego se reiniciará al último punto de control.

\item Durante una partida no hay límites de tiempo.

\item Los puntos de control serán al inicio de cada nivel.

\item Los enemigos mueren cuando no tengan vida.

\item Para derrotar a un enemigo, el jugador deberá hacer uso de las habilidades de ataque, intentando que estos queden si vida.

\item Cuando un enemigo muere, puede dejar objetos que el jugador podrá recoger.

\item Los combos estarán limitados a n golpes. Una vez finalizados, se empezará el combo de nuevo.

\item Si el jugador está en defensa, los golpes no restarán vida.

\item El Lobo será el enemigo más fuerte y con más vida.

\item Los enemigos también tendrán modo defensa donde no se le bajará la vida.

\item El juego hará guardados automáticos. Se hará en punto específicos.

\item En cualquier momento, el usuario podrá acceder al menú de la partida pulsando una tecla.

\item En el menú se podrán configurar diferentes apartados del juego.
\end{itemize}

\subsection{Elementos interactivos}
Como elementos interactivos dentro del juego hay:

\begin{itemize}
\item El personaje principal: Caperucita.
\item El enemigo principal: el Lobo.
\item Enemigos secundarios (ver sección \ref{sec:enemies}).
\item Algunas armas, como la ballesta.
\end{itemize}

Todos estos elementos tendrán animaciones propias.

\subsubsection{Personaje principal}

Caperucita. Está basada en los cuentos de \emph{Caperucita} pero dimensionada hacia una atmósfera totalmente \emph{gore} asemejándose a la chica protagonista de la película \emph{Hard Candy} \cite{HardCandy} de David Slade. Mide unos 1.55m y unos 40kg de peso. Tiene una fisonomía muy delgada y su cara destaca por sus ojos grandes y luminosos.

Lleva un vestido con falda y se caracteriza por su capa roja que la cubre enteramente, protegiéndola del frío del bosque.

\subsubsection{Enemigos} \label{sec:enemies} 
Durante el combate, irán apareciendo enemigos constantemente, pero sólo habrá 10 enemigos en batalla. Los enemigos son:

\begin{itemize}
\item El Lobo. El principal enemigo del juego. Este puede llamar a otros monstruos de la noche para matar al jugador. Es bastante más grande que el personaje principal. Destaca por tener un cupero musculoso y muy peludo, lo que le hace muy rápido y fuerte. También se caracteriza por sus grandes manos, una grandísima boca con unos colmillos muy afilados y grandes ojos.

\item Rata. Pequeña y peluda con una gran boca y dientes pequeños pero afilados. En sus mordiscos lleva una gran cantidad de veneno.

\item Murciélago. Tiene un cuerpo pequeño y grandes alas con unas garras pequeñas pero afiladas, permitiendo desgarrar cualquier trozo de carne de sus presas. Vislumbra perfectamente en la noche a sus presas con sus ojos brillantes.

\item Conejo. Lleva una zanahoria con punchos. Tiene un ataque a distancia que consiste en lanzar zanahorias.

\end{itemize}

\subsection{Armas}
El jugador podrá tener dos armas básicas.

\begin{itemize}
\item Hozes. Caperucita tiene dos hozes, una en cada mano que le permiten realizar golpes circulares y verticales, cortando enemigos por la mitad.

\item Ballesta. Es una arma a distancia. Se apunta con la misma orientación que el personaje y se recarda automáticamente.
\end{itemize}

\subsection{Ítems}
Los ítems son variados y modifican alguna característica del jugador. Algunos ítems son permanentes mientras que otros temporales. Estarán situados por el escenarios y se activan cuando el jugador pasa por encima de ellos para recogerlos.

\begin{itemize}
\item Manzana. Aumentan la vida del personaje. Se encuentra por el suelo o se desprende de los enemigos al morir.
\item Setas. Aumentan la fuerza del jugador temporalmente.
\end{itemize}

\subsection{Acciones}

\subsubsection{Animaciones}

\subsection{Interfaz}

La interfaz del juego está compuesta por dos partes, la que pertenece al juego en sí, el HUD, y la otra todo el sistema de menús.

\subsubsection{HUD de juego}

El HUD del juego se forma en dos partes distintas:

\begin{itemize}

\item HUD(\emph{Head-Up Display}). Estará compuesto por una barra de vida que irá variando según la vida del jugador. Será una barra horizontal. 
También contendrá un icono mostrando qué arma lleva el personaje en ese instante.
Se podrá mostrar una lista con las armas disponibles en ese momento y seleccionar una concreta. Por defecto esto estará oculto y sólo se mostrará cuando se pulse una tecla.

\item Menú de pausa. Desde dentro del juego se podrá acceder a un menú simple. Su función será de pausa del juego y contendrá las siguientes acciones:

\subitem Continuar partida. Permitirá volver al juego y continuar jugando.
\subitem Opciones. Se podrá modificar parámetros del juego.
\subitem Finalizar partida. La partida se terminará y se irá al menú principal.

\end{itemize}

\subsubsection{Menús externos}

Cuando se ejecute por primera vez el juego o se salga de la partida, se irá al sistema de menús.

\begin{itemize}

\item Menú principal. Es la primera ventana que sale de todo el menú. Contendrá las siguientes opciones:
\subitem Empezar partida. Permite al jugador empezar el juego desde el inicio.
\subitem Continuar partida. Continua la partida con la última partida guardada.
\subitem Opciones. Permite configurar el juego.
\subitem Créditos. Se muestra la información de todos los componentes del grupo.
\subitem Salir. Se finaliza la ejecución del juego.

\item Menú de opciones. Permite configurar diferentes opciones del juego.

\item Pantalla de información. Se mostrará información sobre los controles y el objetivo del juego.
\end{itemize}

\subsection{Control}

El juego funcionará con teclado y ratón. Las acciones que puede hacer son:

\begin{itemize}
\item Cámara: Movimiento del ratón.
\item Atacar: Botón izquierdo del ratón.
\item Ataque fuerte: Control izquierdo + Botón izquierdo del ratón.
\item Defenderse: Botón derecho del ratón.
\item Dirección: W(adelante), S(atrás), A(izquierda), D(derecha).
\item Salto: Barra Espaciadora.
\item Acción: E.
\end{itemize}

%----- Arte ----------------------------------------
%---------------------------------------------------
\section{Arte}

El estio gráfico del juego estará inspirado por el mundo de los cuentos de niños, \emph{cartoon}, pero adaptado a un público mayor con una dimensión \emph{gore} y sangriento. Este estilo permite exagerar el diseño de los objetos y del entorno en general.

Para reproducir un ambiente lúgubre, la iluminación estará marcada por la Luna y los faros que habrá repartidos por el bosque. El ambiente será nocturno y siniestro. La cabaña  será de colores más vivos y con más luz. Finalmente, la cueva volverá a ser un lugar con poca luz y muy tenebrosa. Sólo estará iluminado por pequeñas luces repartidas por el escenario.

\subsection{Caperucita}

\subsection{El Lobo}

\subsection{Enemigos}

\subsection{Armas}

\subsection{El bosque}

\subsection{La cabaña}

\subsection{La cueva}

%----- Historia ------------------------------------
%---------------------------------------------------
\section{Historia}

%----- Tecnología ----------------------------------
%---------------------------------------------------
\section{Tecnología}

El desarrollo del juego se centra esencialmente sobre las animaciones de los personajes. Para obtener un juego visualmente fluido y no sobrecargar el motor, se ha elegido una escena sencillo con poco elementos (el bosque en una noche de invierno), lo que permite dar más peso a los personajes y sus movimientos.

El control será una parte clave del \emph{gameplay} junto con la inteligència artificial. 

Se diseñará un motor 3D que soporte las últimas tecnologías del mercado. Utilizará técnicas avanzadas de renderizado como \emph{normal mapping} \cite{normalmapping}.

%----- Sonido --------------------------------------
%---------------------------------------------------
\section{Sonido}

Los sonidos y la música tienen que estar acorde con las características del escenario. En líneas generales la música será terrorífica con sonidos que generen sustos y suspense. Respecto a los sonido de las acciones, ítems y enemigos, tendiran a ser sonidos con aspecto sanguinario y chillidos de horror.

La música estará compuesta exclusivamente para el juego, y los sonidos se buscarán en bibliotecas gratuitas \emph{online}.